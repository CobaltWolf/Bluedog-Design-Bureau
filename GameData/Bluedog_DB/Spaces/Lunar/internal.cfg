@PART:HAS[@INTERNAL[Lunar]&!MODULE[ModuleFreeIva]]:NEEDS[FreeIva]
{
	MODULE
	{
		name = ModuleFreeIva
	}
}

INTERNAL
{
	name = Lunar
	MODEL
	{
		model = Bluedog_DB/Spaces/Lunar/Lunar
		position = 0, 0, 0.11
		rotation = 0, 0, 180
	}
	MODEL
	{
		model = Bluedog_DB/Spaces/Lunar/LEM-Border
		position = 0, 0, 0.11
		rotation = 0, 0, 180
	}
	MODEL
	{
		model = Bluedog_DB/Spaces/Lunar/LEM-Shell
		position = 0, 0, 0.11
		rotation = 0, 0, 180
	}
	MODULE
	{
		name = InternalSeat
		seatTransformName = seatPilot
		allowCrewHelmet = false
	}
	MODULE
	{
		name = InternalSeat
		seatTransformName = seatEng
		allowCrewHelmet = false
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = DockCamera
		cameraTransformName = DockCamera_trfm
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = EngCamera
		cameraTransformName = EngCamera_trfm
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = PilotCamera
		cameraTransformName = PilotCamera_trfm
	}
	PROP
	{
		name = NavBall
		position = 0.11580006,0.927300274,-0.314000368
		rotation = 0.707106829,0,0,-0.707106829
		scale = 1.00001621,1,1
	}
	PROP
	{
		name = NavBall
		position = -0.113700062,0.928300261,-0.314000249
		rotation = 0.707106829,0,0,-0.707106829
		scale = 1.00001621,1,1
	}
	PROP
	{
		name = SideStick
		position = 0.270100117,0.849300265,0.0339997858
		rotation = 0.707106829,0,0,-0.707106829
		scale = 1.00001621,1,1
	}
	PROP
	{
		name = SideStick
		position = -0.252000123,0.829300225,0.0409997553
		rotation = 0.707106829,0,0,-0.707106829
		scale = 1.00001621,1,1
	}
	PROP
	{
		name = AltimeterThreeHands
		position = -0.130800053,0.910300255,-0.212000266
		rotation = -0.00426891632,-0.118918918,0.99289465,0.000523501192
		scale = 1,1.00000048,0.999999881
	}
	PROP
	{
		name = AtmosphereDepth
		position = 0,0.956300497,-0.377000451
		rotation = -0.699222505,-0.0944284201,0.702377677,0.0940042734
		scale = 1,1,1
	}
	PROP
	{
		name = AxisIndicatorPitch
		position = 0.000100000056,0.982300282,-0.480000317
		rotation = 0.700801849,-0.0942166895,0.700801849,-0.0942166895
		scale = 1.00001109,1,1
	}
	PROP
	{
		name = AxisIndicatorRoll
		position = 0,0.973300338,-0.447000325
		rotation = 0.700801849,-0.0942166895,0.700801849,-0.0942166895
		scale = 1.00001109,1,1
	}
	PROP
	{
		name = AxisIndicatorYaw
		position = 0,0.965300381,-0.413000345
		rotation = 0.700801849,-0.0942166895,0.700801849,-0.0942166895
		scale = 1.00001109,1,1
	}
	PROP
	{
		name = Compass
		position = 0.00197334983,0.925300241,-0.213000372
		rotation = -0.693365872,0.11014773,-0.703942001,0.107596293
		scale = 1,0.999999881,1
	}
	PROP
	{
		name = ledPanelSpeed
		position = -0.11930006,0.929300368,-0.271000385
		rotation = -0.000309280003,-0.133177966,0.991092086,0.0004230942
		scale = 0.99999994,0.999999821,1
	}
	PROP
	{
		name = MonitorDockingMode
		position = -0.114400059,0.963300347,-0.430000365
		rotation = 0.000693889044,-0.118067518,0.992987752,0.00591920782
		scale = 0.999999821,0.999999821,1
	}
	PROP
	{
		name = pullSwitch
		position = 0.155700058,0.931300282,-0.269000351
		rotation = 0,-0.133648396,0.991028905,0
		scale = 0.999999821,0.999999702,1
	}
	PROP
	{
		name = switch
		position = 0.0452000163,0.950300336,-0.343000352
		rotation = 0,-0.130526289,0.991444886,0
		scale = 0.999999762,0.999999881,1.00000012
	}
	PROP
	{
		name = MonitorDockingMode
		position = 0.115600057,0.961300492,-0.431000471
		rotation = 0.000693889044,-0.118067518,0.992987752,0.00591920782
		scale = 0.999999821,0.999999821,1
	}
	PROP
	{
		name = genericClusterSwitches02
		position = -0.522200227,0.843300223,0.0209997743
		rotation = 0,-0.551456511,0.834203601,0
		scale = 1,1.00000012,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches03
		position = 0,1.04730022,-0.583000302
		rotation = 0,0,1,0
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches04
		position = -0.768000484,0.808300257,-0.163000241
		rotation = -0.0538518131,0.0543740094,0.708427429,-0.701622486
		scale = 1,1,1
	}
	PROP
	{
		name = switchWithGuards
		position = 0.131400064,0.912500262,-0.216000214
		rotation = 0,-0.134258598,0.990946412,0
		scale = 0.999999821,0.999999821,1.00000048
	}
	PROP
	{
		name = throttle
		position = 0.404000252,0.849300265,0.0199997276
		rotation = 0,-0.555752873,0.831347585,0
		scale = 0.700000048,0.700004101,0.700004339
	}
	PROP
	{
		name = switch
		position = 0.0692000315,0.950300336,-0.343000352
		rotation = 0,-0.130526289,0.991444886,0
		scale = 0.999999762,0.999999881,1.00000012
	}
	PROP
	{
		name = switch
		position = 0.0452000163,0.941300333,-0.3100003
		rotation = 0,-0.130526289,0.991444886,0
		scale = 0.999999762,0.999999881,1.00000012
	}
	PROP
	{
		name = switch
		position = 0.0695000291,0.941300333,-0.3100003
		rotation = 0,-0.130526289,0.991444886,0
		scale = 0.999999762,0.999999881,1.00000012
	}
	PROP
	{
		name = genericClusterKnobs
		position = 0.117300056,0.884300351,-0.154000357
		rotation = 0,-0.549275219,0.835641503,0
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterKnobs2
		position = 0.111900061,0.822300375,-0.133000389
		rotation = 0,-0.58656323,0.809903502,0
		scale = 0.999999821,0.999999881,1.00000012
	}
	PROP
	{
		name = genericClusterMixed
		position = 0,0.798300266,0.038999781
		rotation = 0,-0.551208377,0.834367633,0
		scale = 1,1,1.00000048
	}
	PROP
	{
		name = genericClusterSwitches07
		position = -0.740800261,0.622300148,-0.0320001394
		rotation = 0.440089047,-0.440089047,0.55346334,-0.55346334
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches02
		position = 0.54000026,0.843300223,0.0209997743
		rotation = 0,-0.551456511,0.834203601,0
		scale = 1,1.00000012,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches01
		position = -0.775000453,0.62830019,-0.129000202
		rotation = 0.0585245118,-0.0525406003,-0.704598367,0.705234408
		scale = 0.900014877,0.900011897,0.900000036
	}
	PROP
	{
		name = genericClusterSwitches01
		position = -0.774700463,0.461300164,-0.130000189
		rotation = 0.0585245118,-0.0525406003,-0.704598367,0.705234408
		scale = 0.900015295,0.900011599,0.900000036
	}
	PROP
	{
		name = genericClusterSwitches01
		position = 0.774500489,0.629300237,-0.135000244
		rotation = 0.0490667224,0.0490667224,0.705402374,0.705402374
		scale = 0.900012195,0.900008738,0.899998248
	}
	PROP
	{
		name = genericClusterSwitches06
		position = 0.72720015,0.811300278,-0.0270002633
		rotation = 0.440077364,0.432912707,-0.560152471,-0.552401781
		scale = 1,0.999999881,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches06
		position = 0.686200261,0.811300218,-0.0190002471
		rotation = 0.440077364,0.432912707,-0.560152471,-0.552401781
		scale = 1,0.999999881,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches07
		position = 0.689300239,0.632300138,-0.0210001022
		rotation = 0.442218125,0.431378841,-0.567059219,-0.54479301
		scale = 0.999999881,1,0.999999642
	}
	PROP
	{
		name = genericClusterSwitches07
		position = 0.740000248,0.631300092,-0.0330001265
		rotation = 0.442218125,0.431378841,-0.567059219,-0.54479301
		scale = 0.999999881,1,0.999999642
	}
	PROP
	{
		name = genericClusterSwitches04
		position = 0.770400465,0.809300363,-0.166000381
		rotation = -0.0455864929,-0.0455864929,-0.705635846,-0.705635846
		scale = 1,1.00001097,1
	}
	PROP
	{
		name = genericClusterSwitches03
		position = -0.0950000584,1.04730022,-0.583000302
		rotation = 0,0,1,0
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches03
		position = 0.0880000293,1.04730022,-0.583000302
		rotation = 0,0,1,0
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches04
		position = 0.741500258,0.796300232,-0.254000306
		rotation = -0.181529999,-0.181529999,-0.68340826,-0.68340826
		scale = 1.0000211,1.00002098,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches05
		position = 0.701170444,0.788300276,-0.317000329
		rotation = -0.373963386,0.607910097,0.606702745,0.350012213
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches04
		position = -0.744000256,0.796300232,-0.242000356
		rotation = -0.176061571,0.177769214,0.687912822,-0.681304991
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches05
		position = -0.710400224,0.785300255,-0.303000212
		rotation = -0.612569928,-0.353211135,0.353211135,-0.612569928
		scale = 1,0.999999762,1
	}
	PROP
	{
		name = genericClusterSwitches01
		position = -0.723900259,0.629300237,-0.288000226
		rotation = 0.170171112,-0.163188517,-0.688337445,0.686005116
		scale = 0.900013387,0.900016904,0.900000751
	}
	PROP
	{
		name = genericClusterSwitches01
		position = -0.724000156,0.462300241,-0.289000213
		rotation = 0.170171112,-0.163188517,-0.688337445,0.686005116
		scale = 0.900014102,0.900017977,0.900002837
	}
	PROP
	{
		name = genericClusterSwitches01
		position = 0.726500154,0.460300237,-0.283000231
		rotation = 0.166624591,0.166624501,0.687194526,0.687194526
		scale = 0.900020301,0.900015831,0.900004506
	}
	PROP
	{
		name = IndicatorPanel
		position = 0,0.840300381,-0.151000395
		rotation = 0.00203624484,-0.588325083,0.8086164,-0.00299417274
		scale = 1,1,1.00000012
	}
	PROP
	{
		name = standingSwitch
		position = 0.123400062,0.923300505,-0.272000432
		rotation = 0,-0.127526283,0.991835237,0
		scale = 0.999999762,0.999999762,1
	}
	PROP
	{
		name = genericClusterSwitches01
		position = -0.114500061,0.842300236,-0.139000252
		rotation = 0,-0.592192531,0.805796564,0
		scale = 0.899999797,0.90000248,0.90000248
	}
	PROP
	{
		name = genericClusterSwitches05
		position = -0.779600501,0.809300244,-0.0950002223
		rotation = -0.532333791,-0.465425402,0.465425402,-0.532333791
		scale = 1.00000989,1,1
	}
	PROP
	{
		name = genericClusterButtons
		position = 0.0354000144,0.93230027,-0.267000318
		rotation = 0,-0.133860081,0.991000295,0
		scale = 0.999999821,0.999999762,1
	}
	PROP
	{
		name = throttle
		position = -0.376000226,0.849300265,0.0199997276
		rotation = 0,-0.555752873,0.831347585,0
		scale = 0.700000048,0.70000428,0.700004339
	}
	PROP
	{
		name = VSI
		position = -0.00283155404,0.939700246,-0.324000239
		rotation = -0.00280953292,-0.115024649,0.993283689,0.0122071402
		scale = 0.999999881,1,1
	}
	PROP
	{
		name = genericClusterButtons2
		position = -0.148100063,0.812300265,0.0299997777
		rotation = 0,-0.551456511,0.834203601,0
		scale = 1,1.00000012,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches06
		position = -0.735200167,0.810300231,-0.0310002714
		rotation = 0.453597695,-0.453597695,0.542447388,-0.542447388
		scale = 1,1.00000012,1.00000012
	}
	PROP
	{
		name = genericClusterButtons2
		position = 0.155500054,0.812300265,0.0299997777
		rotation = 0,-0.551456511,0.834203601,0
		scale = 1,1.00000012,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches06
		position = -0.69200021,0.810300231,-0.0230002552
		rotation = 0.453597695,-0.453597695,0.542447388,-0.542447388
		scale = 1,1.00000012,1.00000012
	}
	PROP
	{
		name = genericClusterSwitches07
		position = -0.68260026,0.621300101,-0.0190001279
		rotation = 0.440089047,-0.440089047,0.55346334,-0.55346334
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches01
		position = 0.774500489,0.460300177,-0.135000184
		rotation = 0.0490667224,0.0490667224,0.705402374,0.705402374
		scale = 0.900013208,0.900008738,0.900000334
	}
	PROP
	{
		name = genericClusterSwitches07
		position = 0.740700245,0.45930019,-0.029000178
		rotation = 0.465280741,0.455410928,-0.547945917,-0.525233269
		scale = 1,1.00000048,1.00000012
	}
	PROP
	{
		name = genericClusterSwitches05
		position = 0.781500459,0.81030035,-0.106000379
		rotation = -0.471245199,0.5272066,0.527318299,0.471080214
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches01
		position = 0.726500154,0.627300262,-0.283000231
		rotation = 0.166624591,0.166624501,0.687194526,0.687194526
		scale = 0.900019705,0.900015831,0.900005102
	}
	PROP
	{
		name = FireCan
		position = -0.535000265,0.262300134,-0.162000135
		rotation = 0.706874192,-0.0181360692,0.0181360692,-0.706874192
		scale = 1.00001359,1,1
	}
	PROP
	{
		name = CargoBagA
		position = 0.667110264,0.56430006,0.383999944
		rotation = -0.17821613,-0.17821607,0.684279919,0.684280038
		scale = 0.900002897,0.800002277,0.800000548
	}
	PROP
	{
		name = CargoBagA
		position = -0.656000257,0.582300067,0.377999961
		rotation = -0.677468717,-0.677468717,0.202573895,0.202573895
		scale = 0.900011003,0.750320196,0.687726378
	}
	PROP
	{
		name = CargoBagB
		position = -0.440000236,0.00330013037,-0.563000023
		rotation = -0.648726881,-0.281342298,0.281342298,-0.648726881
		scale = 0.500006497,0.50000453,0.500006318
	}
	PROP
	{
		name = CargoBagB
		position = 0.225000113,-0.413700074,-0.20799993
		rotation = 0.0175200086,0.702710629,0.00690960791,0.711226463
		scale = 0.533024609,0.750322282,0.576051235
	}
	PROP
	{
		name = CargoBagC
		position = -0.00700000394,-0.41170007,-0.208999947
		rotation = 0.00690993667,-0.711226702,-0.0175200701,0.70271039
		scale = 0.533022642,0.750313878,0.576043844
	}
	PROP
	{
		name = CargoBagC
		position = -0.438000232,0.213300169,-0.565000176
		rotation = -0.281342298,-0.648726881,-0.648726881,0.281342298
		scale = 0.500001967,0.500004411,0.500006318
	}
	PROP
	{
		name = CargoBagC
		position = -0.438000232,-0.224699944,-0.565000057
		rotation = -0.281342298,-0.648726881,-0.648726881,0.281342298
		scale = 0.500002265,0.50000453,0.500007272
	}
	PROP
	{
		name = CargoBagB
		position = -0.00700000394,-0.380699992,-0.5
		rotation = 0.0175201297,0.702710629,0.00690966845,0.711226523
		scale = 0.518451333,0.595891058,0.519645572
	}
	PROP
	{
		name = CargoBagC
		position = 0.209850118,-0.404700011,-0.497999966
		rotation = -0.00686874893,-0.824124098,-0.00908163097,-0.566294849
		scale = 0.512366116,0.75031215,0.495243251
	}
	PROP
	{
		name = CargoBagB
		position = 0.447000235,-0.224699944,-0.580000043
		rotation = 0.235780895,-0.662015319,-0.667008638,-0.247472495
		scale = 0.500001073,0.500002146,0.500001848
	}
	PROP
	{
		name = CargoBagC
		position = 0.447000235,-0.00869989395,-0.579000115
		rotation = 0.667008638,-0.247472227,0.235780925,0.662015438
		scale = 0.500004411,0.500002146,0.500003397
	}
	PROP
	{
		name = CargoBagB
		position = 0.452000231,0.201300144,-0.575000107
		rotation = 0.235780895,-0.662015319,-0.667008638,-0.247472495
		scale = 0.49999994,0.500001848,0.500001848
	}
	PROP
	{
		name = genericClusterSwitches04
		position = 0.67200011,0.747300267,-0.376000226
		rotation = -0.181529999,-0.181529999,-0.68340826,-0.68340826
		scale = 1.00002217,1.00002098,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches04
		position = 0.67200011,0.563300252,-0.376000226
		rotation = -0.181529999,-0.181529999,-0.68340826,-0.68340826
		scale = 1.00002217,1.00002098,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches04
		position = 0.67200011,0.381300241,-0.376000226
		rotation = -0.181529999,-0.181529999,-0.68340826,-0.68340826
		scale = 1.00002313,1.00002193,1.00000024
	}
	PROP
	{
		name = genericClusterSwitches04
		position = -0.673000157,0.381300241,-0.377000213
		rotation = 0.684335411,0.671204925,0.203397706,0.199495316
		scale = 1,1.00001287,1
	}
	PROP
	{
		name = genericClusterSwitches04
		position = -0.670000255,0.563300252,-0.375000238
		rotation = 0.684335411,0.671204925,0.203397706,0.199495316
		scale = 1,1.00001001,1
	}
	PROP
	{
		name = genericClusterSwitches04
		position = -0.667000115,0.747300267,-0.373000264
		rotation = 0.684335411,0.671204925,0.203397706,0.199495316
		scale = 1,0.999999881,1
	}
	PROP
	{
		name = CargoBagB
		position = 0.458000243,0.668300152,-0.569000244
		rotation = 0.235780895,-0.662015378,-0.667008579,-0.247472405
		scale = 0.500000656,0.50000149,0.500001788
	}
	PROP
	{
		name = CargoBagC
		position = -0.538000226,0.679300249,-0.500000238
		rotation = 0.323175788,-0.259505004,-0.627615929,0.659024179
		scale = 0.400002778,0.400003016,0.400000572
	}
	PROP
	{
		name = genericClusterSwitches07
		position = 0.692400217,0.45930019,-0.0210001618
		rotation = 0.48391363,0.474869072,-0.531171501,-0.508117855
		scale = 1.00000012,1.00000048,1.00000048
	}
	PROP
	{
		name = genericClusterSwitches07
		position = -0.68260026,0.467300117,-0.0190001279
		rotation = 0.440089047,-0.440089047,0.55346334,-0.55346334
		scale = 1,1,1
	}
	PROP
	{
		name = genericClusterSwitches07
		position = -0.739400268,0.46630013,-0.0320001394
		rotation = 0.440089047,-0.440089047,0.55346334,-0.55346334
		scale = 1,1,1
	}
	PROP
	{
		name = Hatch_Plane
		position = 0.00400000205,0.93230015,0.312999785
		rotation = -1,0,0,0
		scale = 0.800005019,0.800001621,0.650002897
	}
	PROP
	{
		name = Seat_Passenger
		position = 0.285000116,0.461300045,0.300999939
		rotation = -0.706943929,0.015177221,-0.015177221,0.706943929
		scale = 1.00001895,1,1
	}
	PROP
	{
		name = Seat_Passenger
		position = -0.266800106,0.489300042,0.300999939
		rotation = -0.706943929,0.015177221,-0.015177221,0.706943929
		scale = 1.00001895,1,1
	}
	PROP
	{
		name = CargoBagB
		position = -0.252000123,-0.406700045,-0.213999942
		rotation = 0.0175200086,0.702710629,0.00690960791,0.711226463
		scale = 0.533024788,0.750322938,0.576051593
	}
	PROP
	{
		name = CargoBagC
		position = -0.22100012,-0.397700012,-0.506999969
		rotation = 0.0151997507,-0.83493495,-0.0140836239,0.549958467
		scale = 0.533024848,0.750315785,0.517204285
	}
	PROP
	{
		name = FallenKerbonaut
		position = -0.502000213,0.260700047,0.176999941
		rotation = -0.49999997,-0.50000006,0.49999997,0.50000006
		scale = 3.50000453,3.50000048,3.50000477
	}
}


@INTERNAL:HAS[@MODEL:HAS[#model[Bluedog_DB/Spaces/Lunar/Lunar]]&!MODULE[InternalModuleFreeIva]]:NEEDS[FreeIva]
{
	MODEL
	{
		model = Bluedog_DB/Spaces/Lunar/Lunar_freeiva
		position = 0, 0, 0.11
		rotation = 0, 0, 180
	}

	MODULE
	{
		name = InternalModuleFreeIva
		shellColliderName = shellCollider
	}

	// TODO: hatch configurations?
	// I'm not even sure this thing is used.
}