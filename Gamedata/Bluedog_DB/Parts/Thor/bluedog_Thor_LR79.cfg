PART
{
	name = bluedog_Thor_LR79
	module = Part
	author = CobaltWolf
MODEL
{
	model = Bluedog_DB/Parts/Thor/bluedog_Thor_LR79
}
	rescaleFactor = 1
	node_stack_top = 0.0, 0.94712, 0.0, 0.0, 1.0, 0.0
	node_stack_bottom = 0.0, -1.3465, 0.0, 0.0, -1.0, 0.0
	TechRequired = basicRocketry
	entryCost = 4400
	cost = 980
	category = Engine
	subcategory = 0
	title = Chryslus-3DS "Polaris" Liquid Engine
	manufacturer = Bluedog Design Bureau
	description = Basic 1.25m engine design. Has the ability to gimbal.
	real_title = S-3D Liquid Engine
	real_manufacturer = Rocketdyne
	attachRules = 1,0,1,0,0
	mass = 1.25
	// heatConductivity = 0.06 // half default
	skinInternalConductionMult = 4.0
	emissiveConstant = 0.8 // engine nozzles are good at radiating.
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7
	maxTemp = 2000 // = 3600
	stagingIcon = LIQUID_ENGINE
	bulkheadProfiles = size1

	tags = juno chryslus polaris liquid engine 1.25 125 lr79 rs27 rs27a delta daleth thor fenris ?PGM17
	
	techtag = thor


	EFFECTS
	{
		running_engine
		{
			AUDIO
			{
				channel = Ship
				clip = Bluedog_DB/Sounds/KW/sound_altloop2
				volume = 0.0 0.0
				volume = 0.01 0.1
				volume = 1.0 1.0
				pitch = 0.0 1
				pitch = 1.0 1
				loop = true
			}

			MODEL_MULTI_PARTICLE
			{
				name = blaze
				modelName = Bluedog_DB/FX/PlumeParty/Engines/BlueOrigin/keroSLBlaze
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.3 0.15
				emission = 1.0 1.0
				speed = 0.3 0.4
				speed = 1.0 1.0
				energy = 0.2 0.4
				energy = 1.0 1.25
				localScale = 1.0, 1.0, 1.0
				//localPosition = 0, 0, -0.5
			}
			MODEL_MULTI_PARTICLE
			{
				name = lamp
				modelName = Bluedog_DB/FX/PlumeParty/Engines/BlueOrigin/keroSLLamp
				transformName = thrustTransform
				emission = 0.2 0.0
				emission = 0.4 0.1
				emission = 1.0 0.3
				speed = 0.2 0.2
				speed = 1.0 1.5
				energy = 0.2 0.7
				energy = 0.4 1.25
				localScale = 1.0, 1.0, 1.0
				//localPosition = 0, 0, -0.5
			}
			MODEL_MULTI_PARTICLE
			{
				name = vernierFume
				modelName = Bluedog_DB/FX/PlumeParty/Engines/BDB/vernierFumeLight
				transformName = exhaustTransform
				emission = 0.0 0.0 0 0
				emission = 0.01 0.1 0 0
				emission = 0.5 1.0
				energy = 0.0 0.25
				energy = 1.0 1
				localScale = 0.8,0.8,0.8
				localOffset = 0,0,0
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_low
				volume = 1.0
				pitch = 0.5
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
				localScale = 1.0,1.0,1.0
				//localOffset = 0,0,1.8
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
	}

	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 190
		heatProduction = 192
		EngineType = LiquidFuel
		runningEffectName = running_engine

		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
		{
			key = 0 282
			key = 1 248
			key = 7 0.001

		}
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Engine Config
		switcherDescriptionPlural = Engine Configs
		moduleID = engineSwitch

		SUBTYPE
		{
			name = S3D
			title =  Chryslus-3DS "Polaris" Liquid Engine
			descriptionSummary = Basic 1.25m engine design. Has the ability to gimbal.
			real_title = S3D
			real_descriptionSummary =
			descriptionDetail = <b>Thrust:</b> 238.9 kN ASL / 274 kN Vac.\n<b>Isp:</b> 259 s ASL / 297 s Vac.
			defaultSubtypePriority = 1
			transform = LubeTank
			transform = Nozzle_Original
		}

		SUBTYPE
		{
			name = LR79
			title =  Fenris-215 "Odin" Liquid Engine
			descriptionSummary = Flagship engine of a new class of rocket
			real_title = LR-79
			//real_descriptionSummary =
			descriptionDetail = <b>Thrust:</b> 161.9 kN ASL / 183.5 kN Vac.\n<b>Isp:</b> 256 s ASL / 290 s Vac.
			defaultSubtypePriority = 2
			transform = LubeTank
			transform = StartTanks
			transform = Nozzle_Original

			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
				}

				DATA
				{
					maxThrust = 205
					atmosphereCurve
					{
						key = 0 290
						key = 1 256
						key = 6 0.001
					}
				}
			}
		}

		SUBTYPE
		{
			name = RS27
			title = Daleth-SSR-27 "Darkah" Liquid Engine
			descriptionSummary = This version of the Darkah engine is less powerful but has better sea level performance. Used on the 6000 series Daleth II.
			real_title = RS27
			real_descriptionSummary = Version of the RS27 used on 6000 series early Delta II rockets.
			descriptionDetail = <b>Thrust:</b> 229 kN ASL / 256 kN Vac.\n<b>Isp:</b> 264 s ASL / 295 s Vac.
			defaultSubtypePriority = 3
			upgradeRequired = bluedog_RS27
			addedCost = 520
			transform = StartTanks
			transform = FABU
			transform = Nozzle_Original

			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
				}

				DATA
				{
					maxThrust = 260
					atmosphereCurve
					{
						key = 0 295
						key = 1 264
						key = 6 0.001
					}
				}
			}
		}

		SUBTYPE
		{
			name = RS27A
			title = Daleth-SSR-27a "Darkah" Liquid Engine
			descriptionSummary = The SSR-27a is slightly better optimized for altitude and is more powerful. However due to the altitude optimization it is slightly LESS powerful at sea level than the SSR-27. Used on the later Daleth II variants and on Daleth III.
			real_title = RS27A
			real_descriptionSummary = The RS27A is slighter better optimized for altitude and is more powerful. However due to the altitude optimization it is slightly LESS powerful at sea level than the RS27. Used on later Delta II variants and on Delta III.
			descriptionDetail = <b>Thrust:</b> 222.5 kN ASL / 263.5 kN Vac.\n<b>Isp:</b> 255 s ASL / 302 s Vac.
			defaultSubtypePriority = 4
			addedCost = 580
			upgradeRequired = bluedog_RS27A
			transform = StartTanks
			transform = FABU
			transform = Nozzle_RS27A

			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
				}
				DATA
				{
					maxThrust = 263.5
					atmosphereCurve
					{
						key = 0 302
						key = 1 255
						key = 6 0.001
					}
				}
			}
		}

	}

	MODULE
	{
		name = ModuleB9PartSwitch
		switcherDescription = Exhaust
		switcherDescriptionPlural = Exhaust
		moduleID = exhaustSwitch

		SUBTYPE
		{
			name = Thor
			transform = Exhaust_Thor
		}

		SUBTYPE
		{
			name = Jupiter
			transform = Exhaust_S3D
		}

	}


	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 7
		}
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.5
		maxDistance = 30
		falloff = 1.5
		thrustTransformName = thrustTransform
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 0
		maxAmount = 0
		isTweakable = false
		hideFlow = true
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalResponseSpeed = 15
		useGimbalResponseSpeed = true
		gimbalTransformName = gimbalTransform
		gimbalRange = 4
	}

MODULE
	{
		name = FXModuleLookAtConstraint

		CONSTRAINLOOKFX
		{
			targetName = gimbal1_Upper
			rotatorsName = gimbal1_Lower
		}
		CONSTRAINLOOKFX
		{
			targetName = gimbal1_Lower
			rotatorsName = gimbal1_Upper
		}
		CONSTRAINLOOKFX
		{
			targetName = gimbal2_Upper
			rotatorsName = gimbal2_Lower
		}
		CONSTRAINLOOKFX
		{
			targetName = gimbal2_Lower
			rotatorsName = gimbal2_Upper
		}
	}

	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = heatColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = throttleColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = heatColor
		animRate = 0.025
		shaderProperty = _EmissiveColor
		excludedRenderer = innerGlow
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 1 1 1 1
			key = 1 1 1 1
		}
		greenCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		blueCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
		alphaCurve
		{
			key = 0 0 1 1
			key = 1 1 1 1
		}
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = throttleColor
		animRate = 1
		shaderProperty = _TintColor
		includedRenderer = innerGlow
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 0
			key = 1 1
		}
		greenCurve
		{
			key = 0 0
			key = 1 1
		}
		blueCurve
		{
			key = 0 0
			key = 1 1
		}
		alphaCurve
		{
			key = 0 0
			key = 1 1
		}
	}
}
