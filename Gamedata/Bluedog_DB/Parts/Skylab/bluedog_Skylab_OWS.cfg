PART
{
	// --- general parameters ---
	name = bluedog_Skylab_OWS
	module = Part
	author = CobaltWolf, Angel-125
	MODEL
	{
	   model = Bluedog_DB/Parts/Skylab/bluedog_Skylab_OWS
	}
	rescaleFactor = 1


	// --- node definitions ---
	// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z
	node_stack_top = 0.0, 3.053, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -3.377, 0.0, 0.0, -1.0, 0.0, 2

	// --- editor parameters ---
	TechRequired = specializedConstruction
	entryCost = 24000
	cost = 12000
	category = Science
	subcategory = 0
	title = Skylab OWS
	manufacturer = Bluedog Design Bureau
	description = 

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	// --- standard part parameters ---
	mass = 3
	dragModelType = default
	maximum_drag = 0.25
	minimum_drag = 0.25
	angularDrag = .5
	crashTolerance = 45
	breakingForce = 5000
	breakingTorque = 5000
	maxTemp = 1000
	skinMaxTemp = 2000
	emissiveConstant = 0.5
	CrewCapacity = 6
	vesselType = Station
	
	tags = skylab
	
	INTERNAL
	{
		name = Placeholder
	}

	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = Review Data
		storeActionName = Store Experiments
		collectActionName = Take Data
		evaOnlyStorage = True
		storageRange = 2
		allowRepeatedSubjects = True
	}

	MODULE
	{
		name = ModuleScienceLab
		containerModuleIndex = 0
		dataStorage = 1000
		crewsRequired = 1
		canResetConnectedModules = True
		canResetNearbyModules = True
		interactionRange = 5
		SurfaceBonus = 0.1
		ContextBonus = 0.25
		homeworldMultiplier = 0.2

		RESOURCE_PROCESS
		{
			name = ElectricCharge
			amount = 10
		}
	}

	MODULE
	{
		name = ModuleScienceConverter
		dataProcessingMultiplier = 0.5 // Multiplier to data processing rate and therefore science rate
		scientistBonus = 0.25	//Bonus per scientist star - need at least one! So 0.25x - 2.5x 
		researchTime = 7	//Larger = slower.  Exponential!
		scienceMultiplier = 5	//How much science does data turn into?
		scienceCap = 800	//How much science can we store before having to transmit?		
		powerRequirement = 5	//EC/Sec to research
		ConverterName = Data Processing
		StartActionName = Start Data Processing
		StopActionName = Stop Data Processing
	}

	MODULE
	{
        name = ModuleExperienceManagement
        costPerKerbal = 0
	}

	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 10000
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 5
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}



	MODULE
	{
		name = WBIConvertibleMPL
		enableLogging = True

		//Determines whether or not to show the context menu GUI
		showGUI = True

		//Some containers don't hold as much resources as the template specifies, while others hold more.
		//Since the resource templates specify base amounts, the capacity factor specifies a multiplier to
		//factor into the resource amounts.
		capacityFactor = 56.5

		//Crew capacity when inflated
		inflatedCrewCapacity = 6

		//Determines if the part can be reconfigured out in the field.
		fieldReconfigurable = true

		//name of the template nodes to use
		templateNodes = SKYLAB
		templateTags = orbitalWorkshop

		//Short name of the default module template.
		//This is used when selecting the part in the editor.
		//User will then right-click on the module to change its type.
		defaultTemplate = Skylab

		//Name of the logo panel transforms
		decalsVisible = false

		//If the part has a KIS container, this is the base and max amount
		baseStorage = 2000
		maxStorage = 10000

		//Snacks
		resourcesToKeep:NEEDS[SnacksUtils] = ElectricCharge;Snacks

		//Kerbalism
		resourcesToKeep:NEEDS[Kerbalism] = ElectricCharge;Shielding;Food;Oxygen

		//TAC-LS
		resourcesToKeep:NEEDS[TacLifeSupport] = ElectricCharge;Food;Oxygen;Water;CarbonDioxide;Waste;WasteWater

		//USI-LS
		resourcesToKeep:NEEDS[USILifeSupport] = ElectricCharge;Supplies;Mulch;ReplacementParts
	}

	MODULE
	{
		name = WBIModuleWetWorkshop
		hideObjects = Skylab_WindowCovers
		hideObjectsForTemplates = Skylab;SkylabMPL
	}

	MODULE
	{
		name = WBIPowerMonitor
	}

	MODULE
	{
		name = WBIPropStateHelper
	}


	RESOURCE
	{
		name = ElectricCharge
		amount = 2500
		maxAmount = 2500
		isTweakable = true
	}

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = Skylab_Window_Anim
		startEventGUIName = Lights On
		endEventGUIName = Lights Off
		actionGUIName = Toggle Lights
    	defaultActionGroup = Light
	}
	
}

SKYLAB
{
	name = SkylabCryo
	author = Angel-125
	shortName = CryoFuel
	title = Wet Workshop (Cryo)
	templateTags = orbitalWorkshop
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogen
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogenGlow
	description = The Wet Workshop concept provides the ability to store liquid fuel and oxidizer just like any other fuel tank. Once in orbit, you can drain the tank of its resources so that it can be converted into habitable space. The conversion might require additional resources.
	mass = 0.325
	requiredResource = Equipment
	requiredAmount = 2000
	reconfigureSkill = ConverterSkill
	CrewCapacity = 0
	ignoreMaterialModifier = true

	RESOURCE
	{
		 name = LqdHydrogen
		 amount = 750
		 maxAmount = 750
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 50
		maxAmount = 50
	}
}

SKYLAB
{
	name = LFO
	author = Angel-125
	shortName = LFO
	title = Wet Workshop
	templateTags = orbitalWorkshop
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LFO
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LFOGlow
	description = The Wet Workshop concept provides the ability to store liquid fuel and oxidizer just like any other fuel tank. Once in orbit, you can drain the tank of its resources so that it can be converted into habitable space. The conversion might require additional resources.
	mass = 0.325
	requiredResource = Equipment
	requiredAmount = 2000
	reconfigureSkill = ConverterSkill
	CrewCapacity = 0
	ignoreMaterialModifier = true

	RESOURCE
	{
		 name = LiquidFuel
		 amount = 110
		 maxAmount = 110
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 90
		maxAmount = 90
	}
}

SKYLAB
{
	name = SkylabMPL
	author = Angel-125
	title = Skylab Mobile Processing Lab
	shortName = SkylabMPL
	TechRequired = spaceExploration
	templateTags = orbitalWorkshop
	mass = 3
	requiredResource = Equipment
	requiredAmount = 2000
	reconfigureSkill = ScienceSkill
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MOLELab
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MOLELab
	description = Configured as a Mobile Processing Lab, Skylab can perform extensive research on science experiments and clean them for reuse.
	toolTip = You can clean experiments just like the MPL-LG-2.
	toolTipTitle = Skylab Mobile Processing Laboratory
	enableMPLModules = true
	ignoreMaterialModifier = true
	templateTags = mole

	MODULE
	{
		name = ModuleKerbNetAccess
		MinimumFoV = 17
		MaximumFoV = 63
		AnomalyDetection = 0
		DISPLAY_MODES
		{
			Mode = Terrain
			Mode = Biome
		}
		REQUIRED_EFFECTS
		{
			Effect = ScienceSkill
		}
	}	

	MODULE
	{
		name = WBIDataTransferUtility
	}    	

    MODULE
	{
		name = WBISciLabOpsView
		showOpsView = true
	}

}

SKYLAB
{
	author = Angel-125
	name = Skylab
	title = Skylab
	shortName = Skylab
	TechRequired = spaceExploration
	templateTags = orbitalWorkshop
	mass = 3
	requiredResource = Equipment
	requiredAmount = 2000
	reconfigureSkill = ScienceSkill
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MOLELab
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MOLELab
	description = Big brother to the MOL, Skylab has more lab space and can simultaneously conduct science experiments and process data for additional returns.
	toolTip = As long as you keep a crewmember in the lab and the ResearchKits full, you can conduct basic research for Science!
	toolTipTitle = Your First Skylab
	enableMPLModules = true
	includeModuleInfo = true
	ignoreMaterialModifier = true
	
	MODULE
	{
		name = ModuleKerbNetAccess
		MinimumFoV = 17
		MaximumFoV = 63
		AnomalyDetection = 0
		DISPLAY_MODES
		{
			Mode = Terrain
			Mode = Biome
		}
		REQUIRED_EFFECTS
		{
			Effect = ScienceSkill
		}
	}
	
   	MODULE
	{
		name = WBISciLabOpsView
		showOpsView = true
	}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Create Research Kits
		StartActionName = Start Research Kits
		StopActionName = Stop Research Kits
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1
		 
		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio = 0.5
		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 15
		}

		OUTPUT_RESOURCE
		{
			ResourceName = ResearchKits
			Ratio = 0.02
			DumpExcess = false
		}
	}

	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.25
		dataIsCollectable = True
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}

	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.25
		dataIsCollectable = True
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}

	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.25
		dataIsCollectable = True
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}

	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.25
		dataIsCollectable = True
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}

	MODULE
	{
		name = WBIExperimentLab
		debugMode = false

		canCreateExperiments = true
		experimentCreationSkill = ScienceSkill
		minimumCreationLevel = 2
		defaultCreationResource = ResearchKits
		minimumCreationAmount = 100.0
		checkCreationResources = true

		isGUIVisible = false
		experimentID = WBISpaceResearch
		ConverterName = Lab Time
		StartActionName = Start Lab Time
		StopActionName = Stop Lab Time
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.05
		SpecialistBonusBase = 0.05
		ExperienceEffect = ScienceSkill
		GeneratesHeat = false
		hoursPerCycle = 6
		crewsRequired = 1
		minimumSuccess = 40
		criticalSuccess = 95
		criticalFail = 20
		sciencePerCycle = 1.0
		repairSkill = ScienceSkill
		repairResource = RocketParts
		repairAmount = 150
		defaultExperiment = WBIEmptyExperiment

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 5
		}

		INPUT_RESOURCE
		{
			ResourceName = ResearchKits
			Ratio = 0.00055554
		}

		OUTPUT_RESOURCE
		{
			ResourceName = LabTime
			Ratio = 0.00056
			DumpExcess = true
		}
	}

	MODULE
	{
		name = WBIDataTransferUtility
	}    	

	RESOURCE
	{
		name = ResearchKits
		amount = 80
		maxAmount = 80
		isTweakable = true
	}
}