//Titan Liquid engines

///////Titan I Engines

//Titan I LR91-3
@PART[bluedog_LR91_3]:NEEDS[zRealPlume,SmokeScreen]
{
	!EFFECTS {}
	@MODULE[ModuleEngines*]
	{
			@name = ModuleEnginesFX
			%powerEffectName = Kerolox_UpperEagle
			!runningEffectName = DELETE
	}

	PLUME
	{
	name = Kerolox_UpperEagle
	transformName = thrustTransform
	localRotation = 0,0,0
	localPosition = 0,0,0
	emissionMult = 0.75
	alphaMult = 1
	energy = 1
	speed = 1

	blazePosition = 0,0,0
	blazeScale = 0.7

	plumePosition = 0,0,0.1
	plumeScale = 0.8

	flarePosition = 0,0,-0.1
	flareScale = 0.07
	}
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_KeroloxVernier
	}
	PLUME
	{
			name = BDB_KeroloxVernier
			transformName = vernierTransform
			localRotation = 0,0,0
			localPosition = 0,0,0.05
			plumeScale = 0.2
			energy = 1
			speed = 1
			emissionMult = 1
	}
}

@PART[bluedog_LR91_3]:HAS[@PLUME[Kerolox_UpperEagle]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @Kerolox_UpperEagle
        {
            @AUDIO
            {
                vol = #$volume,1[1, ]$
                @vol *= 1
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

@PART[bluedog_LR91_3_SingleVernier]:NEEDS[zRealPlume,SmokeScreen]
{
	!EFFECTS {}
	@MODULE[ModuleEngines*]
	{
			@name = ModuleEnginesFX
			%powerEffectName = Kerolox_UpperEagle
			!runningEffectName = DELETE
	}

	PLUME
	{
		name = Kerolox_UpperEagle
		transformName = thrustTransform
		localRotation = 0,0,0
		localPosition = 0,0,0
		emissionMult = 0.75
		alphaMult = 1
		energy = 1
		speed = 1

		blazePosition = 0,0,0
		blazeScale = 0.7

		plumePosition = 0,0,0.1
		plumeScale = 0.8

		flarePosition = 0,0,-0.1
		flareScale = 0.07
	}
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_KeroloxVernier
	}
			PLUME
		{
				name = BDB_KeroloxVernier
				transformName = vernierFX
				localRotation = 0,0,0
				localPosition = 0,0,0.05
				plumeScale = 0.2
				energy = 1
				speed = 1
				emissionMult = 1
		}
}
@PART[bluedog_LR91_3_SingleVernier]:HAS[@PLUME[Kerolox_UpperEagle]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @Kerolox_UpperEagle
        {
            @AUDIO
            {
                vol = #$volume,1[1, ]$
                @vol *= 1
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

@PART[bluedog_LR87_3]:NEEDS[zRealPlume,SmokeScreen]
{
	!EFFECTS {}
	@MODULE[ModuleEngines*]
	{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_KeroloxLower_Blaze
	}
  PLUME
  {
	name = BDB_KeroloxLower_Blaze
	transformName = thrustTransform
	localRotation = 0,0,0
	localPosition = 0,0,0
	emissionMult = 1

	blazePosition = 0,0,0.6
	blazeScale = 0.7

	lampPosition = 0,0,-0.3
	lampScale = 0.3

	streamPosition = 0,0,0.2
	streamScale = 0.3

	flarePosition = 0,0,0.45
	flareScale = 0.05

  }

}
@PART[bluedog_LR87_3]:NEEDS[zRealPlume,SmokeScreen]:AFTER[zzRealPlume]
{
	@EFFECTS
	{
		@engage
		{
			@AUDIO
			{
				@clip = Bluedog_DB/Sounds/GeminiWhoop
			}
		}
	}
}

////////////Titan II engines///////
// Titan II LR87

//Experimental complex plume with realistic shock diamonds
@PART[bluedog_LR87_5]:NEEDS[zRealPlume,SmokeScreen]
{
			!EFFECTS {}

      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLowerComplex
      }

      PLUME
      {
      name = LR87HypergolicLowerComplex
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

			flarePosition = 0,0,0.5
			flareScale = 0.2

      plumePosition = 0,0,0.8
      plumeScale = 1

			diahScale = 1
			shock1Scale = 1

			fumePosition = 0,0,1.1
			fumeScale = 1

      blazePosition = 0,0,0
      blazeScale = 0.7
      }

			@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
			{
				@SUBTYPE[LR87-AJ5K]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = BDB_KeroloxLower_Blaze
						}
					}
				}
			}

			PLUME
			{
			name = BDB_KeroloxLower_Blaze
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0
			emissionMult = 1

			blazePosition = 0,0,0.6
			blazeScale = 0.7

			lampPosition = 0,0,0.3
			lampScale = 0.3

			streamPosition = 0,0,0.2
			streamScale = 0.3

			flarePosition = 0,0,0.45
			flareScale = 0.05

			}
}


//Titan II LR91
@PART[bluedog_LR91_5]:NEEDS[zRealPlume,SmokeScreen]
{
		!EFFECTS {}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        energy = 1
        speed = 1

				flarePosition = 0,0,-0.1
				flareScale = 0.25

        plumePosition = 0,0,0.3
        plumeScale = 1.3

        fumePosition = 0,0,0.6
        fumeScale = 1.2
    }
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}
		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicUpper_White
		}
		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		//Kerolox plumes
		PLUME
		{
				name = Kerolox_UpperEagle
				transformName = thrustTransform
				localRotation = 0,0,0
				localPosition = 0,0,0
				emissionMult = 0.75
				alphaMult = 1
				energy = 1
				speed = 1

				blazePosition = 0,0,0.5
				blazeScale = 0.7

				plumePosition = 0,0,0.3
				plumeScale = 0.8

				flarePosition = 0,0,-0.1
				flareScale = 0.07
		}
		PLUME
		{
				name = BDB_KeroloxVernier
				transformName = vernierFX
				localRotation = 0,0,0
				localPosition = 0,0,0.05
				plumeScale = 0.2
				energy = 1
				speed = 1
				emissionMult = 1
		}
		@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
		{
			@SUBTYPE[LR91-AJ5K]
			{
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[thrustTransform]]]
				{
					@DATA
					{
						%powerEffectName = Kerolox_UpperEagle
					}
				}
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[vernierThrust]]]
				{
					@DATA
					{
						%powerEffectName = BDB_KeroloxVernier
					}
				}
			}
		}
}

@PART[bluedog_LR91_5_FourVernier]:NEEDS[zRealPlume,SmokeScreen]
{
	!EFFECTS {}

	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpper_White
	}
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicVernier_White
	}
	  PLUME
    {
			name = BDB_HypergolicUpper_White
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0

			energy = 1
			speed = 1

			flarePosition = 0,0,-0.15
			flareScale = 0.25

			plumePosition = 0,0,0.3
			plumeScale = 1.3

			fumePosition = 0,0,0.6
			fumeScale = 1.2
    }


		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierTransform
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}
		//Kerolox switch
		PLUME
		{
				name = Kerolox_UpperEagle
				transformName = thrustTransform
				localRotation = 0,0,0
				localPosition = 0,0,0
				emissionMult = 0.75
				alphaMult = 1
				energy = 1
				speed = 1

				blazePosition = 0,0,0.3
				blazeScale = 0.7

				plumePosition = 0,0,0.3
				plumeScale = 0.8

				flarePosition = 0,0,-0.1
				flareScale = 0.07
		}
		PLUME
		{
				name = BDB_KeroloxVernier
				transformName = vernierTransform
				localRotation = 0,0,0
				localPosition = 0,0,0.05
				plumeScale = 0.2
				energy = 1
				speed = 1
				emissionMult = 1
		}
		@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
		{
			@SUBTYPE[LR91-AJ5A4K]
			{
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[thrustTransform]]]
				{
					@DATA
					{
						%powerEffectName = Kerolox_UpperEagle
					}
				}
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[vernierTransform]]]
				{
					@DATA
					{
						%powerEffectName = BDB_KeroloxVernier
					}
				}
			}
		}
}

/////////////Titan III/IV engines

//Titan III LR87
@PART[bluedog_LR87_11]:NEEDS[zRealPlume,SmokeScreen] //
{
			!EFFECTS {}

      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLowerComplex
      }

      PLUME
      {
      name = LR87HypergolicLowerComplex
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

			flarePosition = 0,0,0.8
			flareScale = 0.2

      plumePosition = 0,0,1.1
      plumeScale = 1

			diahScale = 1
			shock1Scale = 1

			fumePosition = 0,0,1.3
			fumeScale = 1

      blazePosition = 0,0,0.3
      blazeScale = 0.7
			}

			PLUME
			{
			name = BDB_KeroloxLower_Blaze
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0
			emissionMult = 1

			blazePosition = 0,0,0.8
			blazeScale = 0.7

			lampPosition = 0,0,0.4
			lampScale = 0.3

			streamPosition = 0,0,0.5
			streamScale = 0.3

			flarePosition = 0,0,0.8
			flareScale = 0.05

			}

			@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
			{
				@SUBTYPE[LR87-AJ11K]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = BDB_KeroloxLower_Blaze
						}
					}
				}
			}
}

//Titan III LR91

@PART[bluedog_LR91_11]:NEEDS[zRealPlume,SmokeScreen]
{
	!EFFECTS {}
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicVernier_White
	}
    PLUME
    {
			name = BDB_HypergolicUpper_White
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0

			energy = 1
			speed = 1

			flarePosition = 0,0,0.1
			flareScale = 0.25

			plumePosition = 0,0,0.3
			plumeScale = 1.3

			fumePosition = 0,0,1
			fumeScale = 1.2
    }
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}
		//Kerolox switch
		PLUME
		{
				name = Kerolox_UpperEagle
				transformName = thrustTransform
				localRotation = 0,0,0
				localPosition = 0,0,0
				emissionMult = 0.75
				alphaMult = 1
				energy = 1
				speed = 1

				blazePosition = 0,0,0.5
				blazeScale = 0.7

				plumePosition = 0,0,0.5
				plumeScale = 0.8

				flarePosition = 0,0,0.1
				flareScale = 0.07
		}
		PLUME
		{
				name = BDB_KeroloxVernier
				transformName = vernierFX
				localRotation = 0,0,0
				localPosition = 0,0,0.05
				plumeScale = 0.2
				energy = 1
				speed = 1
				emissionMult = 1
		}
		@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
		{
			@SUBTYPE[LR91-AJ11-K]
			{
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[thrustTransform]]]
				{
					@DATA
					{
						%powerEffectName = Kerolox_UpperEagle
					}
				}
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[vernierThrust]]]
				{
					@DATA
					{
						%powerEffectName = BDB_KeroloxVernier
					}
				}
			}
		}
}


@PART[bluedog_LR91_11_FourVernier]:NEEDS[zRealPlume,SmokeScreen]
{
	!EFFECTS {}

	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
			name = BDB_HypergolicUpper_White
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0

			energy = 1
			speed = 1

			flarePosition = 0,0,-0.1
			flareScale = 0.25

			plumePosition = 0,0,0.2
			plumeScale = 1.3

			fumePosition = 0,0,0.6
			fumeScale = 1.2
    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierTransform]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierTransform
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}
		//Kerolox switch
		PLUME
		{
				name = Kerolox_UpperEagle
				transformName = thrustTransform
				localRotation = 0,0,0
				localPosition = 0,0,0
				emissionMult = 0.75
				alphaMult = 1
				energy = 1
				speed = 1

				blazePosition = 0,0,0.3
				blazeScale = 0.7

				plumePosition = 0,0,0.3
				plumeScale = 0.8

				flarePosition = 0,0,-0.1
				flareScale = 0.07
		}
		PLUME
		{
				name = BDB_KeroloxVernier
				transformName = vernierTransform
				localRotation = 0,0,0
				localPosition = 0,0,0.05
				plumeScale = 0.2
				energy = 1
				speed = 1
				emissionMult = 1
		}
		@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
		{
			@SUBTYPE[LR91-AJ11-A4-K]
			{
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[thrustTransform]]]
				{
					@DATA
					{
						%powerEffectName = Kerolox_UpperEagle
					}
				}
				@MODULE:HAS[@IDENTIFIER:HAS[#thrustVectorTransformName[vernierTransform]]]
				{
					@DATA
					{
						%powerEffectName = BDB_KeroloxVernier
					}
				}
			}
		}
}

//Transtage
@PART[bluedog_Titan_Transtage]:NEEDS[zRealPlume,SmokeScreen]
{
    @MODULE[ModuleEngines*]
    {
      @name = ModuleEnginesFX
      %powerEffectName = BDB_HypergolicUpperRed
    }
    PLUME
    {
        name = BDB_HypergolicUpperRed
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0
				energy = 1
        speed = 1

        flarePosition = 0,0,-0.2
				flareScale = 0.2

        FumePosition = 0,0,0.4
				FumeScale = 1.4

				streamPosition = 0,0,0.1
				streamScale = 0.8
	}
}

///////////////// LDC engines - Single mount LR87 for LDC and Barbarian ///////////////////

//LR87 single mount sea level
@PART[bluedog_LR87_11_Single]:NEEDS[zRealPlume,SmokeScreen] //
{
			!EFFECTS {}

      PLUME
      {
      name = LR87HypergolicLowerComplex
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

			flarePosition = 0,0,0.4
			flareScale = 0.2

      plumePosition = 0,0,0.7
      plumeScale = 1

			diahScale = 1
			shock1Scale = 1

			fumePosition = 0,0,1.1
			fumeScale = 1

      blazePosition = 0,0,0.3
      blazeScale = 0.7
      }
			PLUME
			{
			name = BDB_KeroloxLower_Blaze
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0
			emissionMult = 1

			blazePosition = 0,0,0.6
			blazeScale = 0.7

			lampPosition = 0,0,0.3
			lampScale = 0.3

			streamPosition = 0,0,0.2
			streamScale = 0.3

			flarePosition = 0,0,0.5
			flareScale = 0.05

			}

			@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[engineSwitch]]
			{
				@SUBTYPE[LR87-AJ3-Single]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = BDB_KeroloxLower_Blaze
						}
					}
				}
				@SUBTYPE[LR87-AJ5-Single]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = LR87HypergolicLowerComplex
						}
					}
				}
				@SUBTYPE[LR87-AJ5K-Single]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = BDB_KeroloxLower_Blaze
						}
					}
				}
				@SUBTYPE[LR87-AJ11-Single]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = LR87HypergolicLowerComplex
						}
					}
				}
				@SUBTYPE[LR87-AJ11-K-Single]
				{
					@MODULE:HAS[@IDENTIFIER:HAS[#name[ModuleEngines*]]]
					{
						@DATA
						{
							%powerEffectName = BDB_KeroloxLower_Blaze
						}
					}
				}
			}
}

// LR87 Vac single engine
@PART[bluedog_LR87_11_Vac]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
			name = BDB_HypergolicUpper_White
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0

			energy = 1
			speed = 1

			flarePosition = 0,0,1
			flareScale = 0.25

			plumePosition = 0,0,1.5
			plumeScale = 1.3

			fumePosition = 0,0,2
			fumeScale = 1.2
    }
}
@PART[bluedog_LR87_11_Vac]:AFTER[zzRealPlume]
{
    @EFFECTS
		{
			@engage
			{
				!AUDIO{}
				AUDIO
				{
					channel = Ship
					clip = Bluedog_DB/Sounds/GeminiWhoop
					volume = 1.3
					pitch = 1.0
					loop = false
				}
			}
		}
}

/////////////// Cryogenic Titan engines ///////////////////

//LR87 Cryogenic Sea Level
@PART[bluedog_LR87_LH2_SL]:NEEDS[zRealPlume,SmokeScreen]
{
			@MODULE[ModuleEngines*]
			{
				@name = ModuleEnginesFX
				%powerEffectName = Cryogenic_LowerRed_CE
			}

			PLUME
      {
      name = Cryogenic_LowerRed_CE
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0

      speed = 1
      energy = 1
      emissionMult = 1

      corePosition = 0,0,1
      coreScale = 0.4

      plumePosition = 0,0,0.6
      plumeScale = 0.6

      plume2Scale = 0.6
      }
}

//LR87 cryogenic vac
@PART[bluedog_LR87_LH2_V]:NEEDS[zRealPlume,SmokeScreen]
{
    @MODULE[ModuleEngines*]
    {
      @name = ModuleEnginesFX
      %powerEffectName = BDB_CryogenicUpper
    }
    PLUME
    {
        name = BDB_CryogenicUpper
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0
				energy = 1
        speed = 1

        flarePosition = 0,0,0
				flareScale = 0.2

				fumePosition = 0,0,0.7
				fumeScale = 1

				streamPosition = 0,0,0.4
				streamScale = 1.3

				shockconePosition = 0,0,2
				shockconeScale = 1
	}
}
