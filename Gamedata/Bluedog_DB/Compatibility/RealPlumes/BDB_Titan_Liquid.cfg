//Titan Liquid engines

////////////Titan II engines
// Titan II LR87
@PART[bluedog_LR87_5]:NEEDS[zRealPlume,SmokeScreen]
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLower
      }

      PLUME
      {
      name = LR87HypergolicLower
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0

      blazePosition = 0,0,0.5
      blazeScale = 1
      blazeenergy = 0.5
      blazespeed = 1.5
      blazeemissionMult = 2

      streamPosition = 0,0,0.8
      streamScale = 1
      streamenergy = 1
      streamspeed = 1
      streamemissionMult = 0.7

      shockcone1Position = 0,0,1
      shockcone1Scale = 1.5

      shockcone2Position = 0,0,2.7
      shockcone2Scale = 1.5

      shockcone3Position = 0,0,4.7
      shockcone3Scale = 1.5

      }
}

//Titan II LR91
@PART[bluedog_LR91_5]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        blazePosition = 0,0,0.3
        blazeScale = 0.5
        blazeemissionMult = 3
				blazeenergy = 0.3
				blazespeed = 0.5

        streamPosition = 0,0,0.6
        streamScale = 2
        streamenergy = 0.5 //1 with SL stream
        streamspeed = 0.5 //0.7
        streamemissionMult =  60 // 0.7

    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1

		}

}
@PART[bluedog_LR91_5]:HAS[@PLUME[BDB_HypergolicUpper_White]]:AFTER[zRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpper_White
        {
            @AUDIO
            {
								%clip = Bluedog_DB/Sounds/KW/sound_altloop
                vol = #$volume,1[1, ]$
                @vol *= 3
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

/////////////Titan III engines

//Titan III LR87
@PART[bluedog_LR87_11]:NEEDS[zRealPlume,SmokeScreen] //
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLower
      }

      PLUME
      {
      name = LR87HypergolicLower
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0

      blazePosition = 0,0,0.5
      blazeScale = 1
      blazeenergy = 0.5
      blazespeed = 1.5
      blazeemissionMult = 2

      streamPosition = 0,0,0.8
      streamScale = 1
      streamenergy = 1
      streamspeed = 1
      streamemissionMult = 0.7

      shockcone1Position = 0,0,1
      shockcone1Scale = 1.5

      shockcone2Position = 0,0,2.7
      shockcone2Scale = 1.5

      shockcone3Position = 0,0,4.7
      shockcone3Scale = 1.5

      }
}

//Titan III LR91

@PART[bluedog_LR91_11]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        blazePosition = 0,0,0.3
        blazeScale = 0.5
        blazeemissionMult = 3
				blazeenergy = 0.3
				blazespeed = 0.5

        streamPosition = 0,0,0.6
        streamScale = 2
        streamenergy = 0.5 //1 with SL stream
        streamspeed = 0.5 //0.7
        streamemissionMult =  60 // 0.7

    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1

		}

}
//attempt to change engine sound... doesnt seem to be working
@PART[bluedog_LR91_11]:HAS[@PLUME[BDB_HypergolicUpper_White]]:AFTER[zRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpper_White
        {
            @AUDIO
            {
                !clip = DEL
								clip = Bluedog_DB/Sounds/KW/sound_altloop
                vol = #$volume,1[1, ]$
                @vol *= 3
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

//Transtage
@PART[bluedog_Titan_Transtage]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpperRedFizzle
	}
    PLUME
    {
        name = BDB_HypergolicUpperRedFizzle
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

				lampPosition = 0,0,0
				lampScale = 0.2
        lampenergy = 0.3
        lampspeed = 0.5
        lampemissionMult = 15

        FumePosition = 0,0,0
				FumeScale = 1
        Fumeenergy = 1
        Fumespeed = 1
        FumeemissionMult = 40

        energy = 1
        speed = 1
    }
}
