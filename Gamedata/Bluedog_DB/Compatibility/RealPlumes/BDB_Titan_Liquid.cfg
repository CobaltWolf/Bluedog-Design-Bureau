//Titan Liquid engines

////////////Titan II engines
// Titan II LR87
@PART[bluedog_LR87_5]:NEEDS[zRealPlume,SmokeScreen]
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLower
      }

      PLUME
      {
      name = LR87HypergolicLower
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

      plumePosition = 0,0,0.8
      plumeScale = 1

      shockconePosition = 0,0,1
      shockconeScale = 1.5

      vacStreamScale = 0.5
      vacStreamPosition = 0,0,0.65

      blazePosition = 0,0,0
      blazeScale = 0.7
      }
}

//Titan II LR91
@PART[bluedog_LR91_5]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        energy = 0.5
        speed = 0.5

        plumePosition = 0,0,0.6
        streamScale = 1.5

        blazePosition = 0,0,0.3
        blazeScale = 1
    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}

}
@PART[bluedog_LR91_5]:HAS[@PLUME[BDB_HypergolicUpper_White]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpper_White
        {
            !AUDIO{}
            AUDIO
            {
                channel = Ship
                clip = Bluedog_DB/Sounds/KW/sound_altloop
                volume = 0.0 0
                volume = 1.0 1
                pitch = 0.0 1
                pitch = 1.0 1
                loop = true
            }
        }
      }
}

/////////////Titan III/IV engines

//Titan III LR87
@PART[bluedog_LR87_11]:NEEDS[zRealPlume,SmokeScreen] //
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLower
      }

      PLUME
      {
      name = LR87HypergolicLower
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

      plumePosition = 0,0,1.1
      plumeScale = 1.1

      shockconePosition = 0,0,1.3
      shockconeScale = 1.6

      vacStreamScale = 0.6
      vacStreamPosition = 0,0,0.95

      blazePosition = 0,0,0.3
      blazeScale = 0.8
      }
}

//Titan III LR91

@PART[bluedog_LR91_11]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        energy = 0.5
        speed = 0.5

        plumePosition = 0,0,1.5
        streamScale = 1.5

        blazePosition = 0,0,0.3
        blazeScale = 1
    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}
}

//attempt to change engine sound... doesnt seem to be working
@PART[bluedog_LR91_11]:HAS[@PLUME[BDB_HypergolicUpper_White]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpper_White
        {
            !AUDIO{}
            AUDIO
            {
                channel = Ship
								clip = Bluedog_DB/Sounds/KW/sound_altloop
                volume = 0.0 0.0
                volume = 1.0 1.0
                pitch = 0.0 1.0
        				pitch = 1.0 1.0
        				loop = true
            }
        }
    }
}

//Transtage
@PART[bluedog_Titan_Transtage]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpperRedFizzle
	}
    PLUME
    {
        name = BDB_HypergolicUpperRedFizzle
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

				lampPosition = 0,0,0
				lampScale = 0.2
        lampenergy = 0.3
        lampspeed = 0.5
        lampemissionMult = 15

        FumePosition = 0,0,0
				FumeScale = 1
        Fumeenergy = 1
        Fumespeed = 1
        FumeemissionMult = 40

        energy = 1
        speed = 1
    }
}

///////////////// LDC engines - Single mount LR87 for LDC and Barbarian ///////////////////

//LR87 single mount sea level
@PART[bluedog_LR87_11_Single]:NEEDS[zRealPlume,SmokeScreen] //
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLower
      }

      PLUME
      {
      name = LR87HypergolicLower
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

      plumePosition = 0,0,1.1
      plumeScale = 1

      shockconePosition = 0,0,1.3
      shockconeScale = 1.5

      vacStreamScale = 0.5
      vacStreamPosition = 0,0,0.85

      blazePosition = 0,0,0.3
      blazeScale = 0.7
      }
}

// LR87 Vac single engine
@PART[bluedog_LR87_11_Vac]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        energy = 0.5
        speed = 0.5

        plumePosition = 0,0,0.6
        streamScale = 2
        SLstreamScale = 1

        blazePosition = 0,0,0.3
        blazeScale = 1
    }
}
@PART[bluedog_LR87_11_Vac]:HAS[@PLUME[BDB_HypergolicUpperYellow]]:AFTER[zRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpperYellow
        {
            @AUDIO
            {
                vol = #$volume,1[1, ]$
                @vol *= 12
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

/////////////// Cryogenic Titan engines ///////////////////

//LR87 Cryogenic Sea Level
@PART[bluedog_LR87_LH2_SL]:NEEDS[zRealPlume,SmokeScreen]
{
			@MODULE[ModuleEngines*]
			{
				@name = ModuleEnginesFX
				%powerEffectName = BDB_HydroloxLower_blaze
			}

			PLUME
			{
			name = BDB_HydroloxLower_blaze
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0

			blazePosition = 0,0,0
			blazeScale = 0.8
			blazeenergy = 0.5
			blazespeed = 1.5
			blazeemissionMult = 0.5

			streamPosition = 0,0,0
			streamScale = 1
			streamenergy = 1
			streamspeed = 1
			streamemissionMult = 0

			lampPosition = 0,0,0
			lampScale = 0.2
			lampenergy = 0.75
			lampspeed = 0.5
			lampemissionMult = 1.5

			FumePosition = 0,0,0.7
			FumeScale = 1.2
			Fumeenergy = 1
			Fumespeed = 1
			FumeemissionMult = 40

			}
}

//LR87 cryogenic vac
@PART[bluedog_LR87_LH2_V]:NEEDS[zRealPlume,SmokeScreen]
{
    @MODULE[ModuleEngines*]
    {
      @name = ModuleEnginesFX
      %powerEffectName = BDB_CryogenicUpper
    }
    PLUME
    {
        name = BDB_CryogenicUpper
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        lampPosition = 0,0,-0.4
				lampScale = 0.4
        lampenergy = 0.75
        lampspeed = 0.5
        lampemissionMult = 1.5

        FumePosition = 0,0,1
				FumeScale = 3
        Fumeenergy = 1
        Fumespeed = 1
        FumeemissionMult = 30

        //Fume2Position = 0,0,5
				//Fume2Scale =  8
        //Fume2energy = 0.5
        //Fume2speed = 0.5
        //Fume2emissionMult = 0

        //global
        energy = 1
        speed = 1


	}
}
