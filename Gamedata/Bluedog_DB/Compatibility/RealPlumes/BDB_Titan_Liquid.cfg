//Titan Liquid engines

///////Titan I Engines

//Titan I LR91-3
@PART[bluedog_LR91_3]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_KeroloxLower_Blaze
	}
	PLUME
	{
	name = BDB_KeroloxLower_Blaze
	transformName = thrustTransform
	localRotation = 0,0,0
	localPosition = 0,0,0
	emissionMult = 1

	blazePosition = 0,0,0
	blazeScale = 0.9

	lampPosition = 0,0,-0.8
	lampScale = 0.75

	streamPosition = 0,0,-0.7
	streamScale = 0.55

	flarePosition = 0,0,-0.2
	flareScale = 0.06

	}
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_KeroloxVernier
	}
			PLUME
		{
				name = BDB_KeroloxVernier
				transformName = vernierTransform
				localRotation = 0,0,0
				localPosition = 0,0,0.05
				plumeScale = 0.2
				energy = 1
				speed = 1
				emissionMult = 1
		}
}
@PART[bluedog_LR91_3]:HAS[@PLUME[BDB_KeroloxLower_Blaze]]:AFTER[zRealPlume]
{
    @EFFECTS
    {
        @BDB_KeroloxUpper_Ibis
        {
            @AUDIO
            {
                vol = #$volume,1[1, ]$
                @vol *= 1
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

@PART[bluedog_LR87_3]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_KeroloxLower_Blaze
	}
  PLUME
  {
	name = BDB_KeroloxLower_Blaze
	transformName = thrustTransform
	localRotation = 0,0,0
	localPosition = 0,0,0
	emissionMult = 1

	blazePosition = 0,0,0.6
	blazeScale = 0.7

	lampPosition = 0,0,-0.3
	lampScale = 0.3

	streamPosition = 0,0,0.2
	streamScale = 0.3

	flarePosition = 0,0,0.45
	flareScale = 0.05

  }

}

////////////Titan II engines///////
// Titan II LR87

//Experimental complex plume with realistic shock diamonds
@PART[bluedog_LR87_5]:NEEDS[zRealPlume,SmokeScreen]
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLowerComplex
      }

      PLUME
      {
      name = LR87HypergolicLowerComplex
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

			flarePosition = 0,0,0.5
			flareScale = 0.2

      plumePosition = 0,0,0.8
      plumeScale = 1

			diahScale = 1
			shock1Scale = 1

      vacStreamScale = 0.5
      vacStreamPosition = 0,0,0.65

      blazePosition = 0,0,0
      blazeScale = 0.7
      }
}


//Titan II LR91
@PART[bluedog_LR91_5]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
		%powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        energy = 0.5
        speed = 0.5

				flarePosition = 0,0,0.1
				flareScale = 0.25

        plumePosition = 0,0,0.6
        streamScale = 1.5

        blazePosition = 0,0,0.3
        blazeScale = 1
    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}

}
@PART[bluedog_LR91_5]:HAS[@PLUME[BDB_HypergolicUpper_White]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpper_White
        {
            !AUDIO{}
            AUDIO
            {
                channel = Ship
                clip = Bluedog_DB/Sounds/KW/sound_altloop
                volume = 0.0 0
                volume = 1.0 1
                pitch = 0.0 1
                pitch = 1.0 1
                loop = true
            }
        }
      }
}

/////////////Titan III/IV engines

//Titan III LR87
@PART[bluedog_LR87_11]:NEEDS[zRealPlume,SmokeScreen] //
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLowerComplex
      }

      PLUME
      {
      name = LR87HypergolicLowerComplex
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

			flarePosition = 0,0,0.8
			flareScale = 0.2

      plumePosition = 0,0,1.1
      plumeScale = 1

			diahScale = 1
			shock1Scale = 1

      vacStreamScale = 0.5
      vacStreamPosition = 0,0,0.95

      blazePosition = 0,0,0.3
      blazeScale = 0.7
			}
}

//Titan III LR91

@PART[bluedog_LR91_11]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

				energy = 0.5
        speed = 0.5

				flarePosition = 0,0,0.1
				flareScale = 0.25

        plumePosition = 0,0,0.8
        plumeScale = 1.5

        blazePosition = 0,0,0.3
        blazeScale = 1
    }

		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierThrust]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_HypergolicVernier_White
		}
		PLUME
		{
				name = BDB_HypergolicVernier_White
				transformName = vernierFX
				energy = 1
				speed = 1
				emissionMult =1

				fumeLightPosition = 0,0,0
				fumeLightScale = 0.5

				fumeDarkPosition = 0,0,0
				fumeDarkScale = 0.5

				pumpPosition = 0,0,0
				pumpScale = 1
		}
}

//Change engine sound
@PART[bluedog_LR91_11]:HAS[@PLUME[BDB_HypergolicUpper_White]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpper_White
        {
            !AUDIO{}
            AUDIO
            {
                channel = Ship
								clip = Bluedog_DB/Sounds/KW/sound_altloop
                volume = 0.0 0.0
                volume = 1.0 1.0
                pitch = 0.0 1.0
        				pitch = 1.0 1.0
        				loop = true
            }
        }
    }
}

//Transtage
@PART[bluedog_Titan_Transtage]:NEEDS[zRealPlume,SmokeScreen]
{
    @MODULE[ModuleEngines*]
    {
      @name = ModuleEnginesFX
      %powerEffectName = BDB_HypergolicUpperRed
    }
    PLUME
    {
        name = BDB_HypergolicUpperRed
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0
				energy = 1
        speed = 1

        flarePosition = 0,0,-0.2
				flareScale = 0.2

        FumePosition = 0,0,0.4
				FumeScale = 1.4

				streamPosition = 0,0,0.1
				streamScale = 0.8
	}
}

///////////////// LDC engines - Single mount LR87 for LDC and Barbarian ///////////////////

//LR87 single mount sea level
@PART[bluedog_LR87_11_Single]:NEEDS[zRealPlume,SmokeScreen] //
{
      @MODULE[ModuleEngines*]
      {
        @name = ModuleEnginesFX
        %powerEffectName = LR87HypergolicLowerComplex
      }

      PLUME
      {
      name = LR87HypergolicLowerComplex
      transformName = thrustTransform
      localRotation = 0,0,0
      localPosition = 0,0,0
      energy = 1
      speed = 1

			flarePosition = 0,0,0.8
			flareScale = 0.2

      plumePosition = 0,0,1.1
      plumeScale = 1

			diahScale = 1
			shock1Scale = 1

      vacStreamScale = 0.5
      vacStreamPosition = 0,0,0.95

      blazePosition = 0,0,0.3
      blazeScale = 0.7
      }
}

// LR87 Vac single engine
@PART[bluedog_LR87_11_Vac]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
    %powerEffectName = BDB_HypergolicUpper_White
	}
    PLUME
    {
        name = BDB_HypergolicUpper_White
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0

        energy = 0.5
        speed = 0.5

				flarePosition = 0,0,1
				flareScale = 0.25

        plumePosition = 0,0,1.7
        streamScale = 2
        SLstreamScale = 1

        blazePosition = 0,0,1.4
        blazeScale = 1
    }
}
@PART[bluedog_LR87_11_Vac]:HAS[@PLUME[BDB_HypergolicUpperYellow]]:AFTER[zRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpperYellow
        {
            @AUDIO
            {
                vol = #$volume,1[1, ]$
                @vol *= 12
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

/////////////// Cryogenic Titan engines ///////////////////

//LR87 Cryogenic Sea Level
@PART[bluedog_LR87_LH2_SL]:NEEDS[zRealPlume,SmokeScreen]
{
			@MODULE[ModuleEngines*]
			{
				@name = ModuleEnginesFX
				%powerEffectName = BDB_HydroloxLower_blaze
			}

			PLUME
			{
			name = BDB_HydroloxLower_blaze
			transformName = thrustTransform
			localRotation = 0,0,0
			localPosition = 0,0,0
			energy = 1
			speed = 1

			flarePosition = 0,0,0
			flareScale = 0.2

			FumePosition = 0,0,1
			FumeScale = 1.5

			streamPosition = 0,0,0.4
			streamScale = 0.75

			shockconePosition = 0,0,1.3
			shockconeScale = 0.7

			blazePosition = 0,0,0.5
			blazeScale = 0.8


			}
}

//LR87 cryogenic vac
@PART[bluedog_LR87_LH2_V]:NEEDS[zRealPlume,SmokeScreen]
{
    @MODULE[ModuleEngines*]
    {
      @name = ModuleEnginesFX
      %powerEffectName = BDB_CryogenicUpper
    }
    PLUME
    {
        name = BDB_CryogenicUpper
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0
				energy = 1
        speed = 1

        flarePosition = 0,0,0
				flareScale = 0.3

        FumePosition = 0,0,1
				FumeScale = 2.4

				streamPosition = 0,0,0.4
				streamScale = 1.3

				shockconePosition = 0,0,2
				shockconeScale = 1
	}
}
