// Delta K AJ10

@PART[bluedog_DeltaK_AJ10]:NEEDS[zRealPlume,SmokeScreen]
{
    @MODULE[ModuleEngines*]
    {
      @name = ModuleEnginesFX
      %powerEffectName = BDB_HypergolicUpperRed
    }
    PLUME
    {
        name = BDB_HypergolicUpperRed
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0
				energy = 1
        speed = 1

        flarePosition = 0,0,0
				flareScale = 0.25

        FumePosition = 0,0,0.4
				FumeScale = 1.4

				streamPosition = 0,0,0.3
				streamScale = 0.8
	}
}
@PART[bluedog_DeltaK_AJ10]:HAS[@PLUME[BDB_HypergolicUpperRed]]:AFTER[zzRealPlume]
{
    @EFFECTS
    {
        @BDB_HypergolicUpperRed
        {
            @AUDIO
            {
                vol = #$volume,1[1, ]$
                @vol *= 8
                @volume,1 = #1.0 $vol$
                !vol = DEL
            }
        }
    }
}

//RS27A 1st stage engine
@PART[bluedog_Delta2_RS27]:NEEDS[zRealPlume,SmokeScreen]

{
		@MODULE[ModuleEngines*]
		{
				@name = ModuleEnginesFX
				%powerEffectName = BDB_KeroloxLower_Blaze
		}
		PLUME
		{
		name = BDB_KeroloxLower_Blaze
		transformName = thrustTransform
		localRotation = 0,0,0
		localPosition = 0,0,0
		emissionMult = 1

		blazePosition = 0,0,0
		blazeScale = 0.8

		lampPosition = 0,0,-0.8
		lampScale = 0.7

		streamPosition = 0,0,-0.7
		streamScale = 0.55

		flarePosition = 0,0,-0.2
		flareScale = 0.06

		}
		@MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[vernierTransform]]
		{
			@name = ModuleEnginesFX
			%powerEffectName = BDB_KeroloxVernier
		}
				PLUME
			{
					name = BDB_KeroloxVernier
					transformName = vernierTransform
					localRotation = 0,0,0
					localPosition = 0,0,0.05
					plumeScale = 0.2
					energy = 1
					speed = 1
					emissionMult = 1
			}
}

//Gas generator effect
@PART[bluedog_Delta2_RS27]:AFTER[zzRealPlume]:NEEDS[zRealPlume,SmokeScreen]
{
	%EFFECTS
    {
        %BDB_KeroloxLower_Blaze
        {
						MODEL_MULTI_SHURIKEN_PERSIST
						{
							transformName = thrustTransform
							localRotation = 6,0,0
							localPosition = 0,-0.62,-0.6
							fixedScale = 0.5
							energy = 1
							speed = 1
							emissionMult = 2
							name = turbopump
							modelName = Bluedog_DB/FX/PlumeParty/Engines/BDB/vernierPump
							fixedEmissions = false
							sizeClamp = 50
							randomInitalVelocityOffsetMaxRadius = 0.2

							linGrow
							{
								density = 1.0 0
								density = 0.5 0.2
								density = 0.2 1.5
								density = 0.0 3
							}
							emission
							{
								power = 1.0 1
								power = 0.01 0.1
								power = 0.0 0.0
							}
							speed
							{
								density = 1.0 1
								density = 0.0 0.8
							}
							energy
							{
								density = 1.0 1
								density = 0.0 0.8
							}

						}

			      MODEL_MULTI_SHURIKEN_PERSIST
						{
							transformName = thrustTransform
							localRotation = 6,0,0
							localPosition = 0,-0.62,-0.6
							fixedScale = 1
							energy = 1
							speed = 1
							emissionMult = 1
							name = FumeDark
							modelName = Bluedog_DB/FX/PlumeParty/Engines/BDB/vernierFumeDark
							fixedEmissions = false
							sizeClamp = 50
							randomInitalVelocityOffsetMaxRadius = 0.2
							randConeEmit
							{
								density = 1 0
								density = 0.4 0.1
								density = 0.1 0.5
								density = 0.01 0.8
								density = 0.0 1
							}
							linGrow
							{
							density = 1.0 0
							density = 0.0 4
							}
							emission
							{
							power = 1.0 1
							power = 0.01 0.1
							power = 0.0 0.0
							}
							speed
							{
							density = 1.0 1
							density = 0.0 0.8
							}
							energy
							{
							density = 1.0 0.5
							density = 0.0 0.4
							}
						}
		}
	}
}

//////GEM SRBs

//Gem40
@PART[bluedog_Delta_GEM40,bluedog_Delta_GEM40_Inline]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		%powerEffectName = Solid-Lower
	}
    PLUME
    {
        name = Solid-Lower
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0.2
        fixedScale = 0.4
        energy = 1
        speed = 1
    }
}
@PART[bluedog_Delta_GEM40,bluedog_Delta_GEM40_Inline]:NEEDS[zRealPlume,SmokeScreen]:AFTER[zzRealPlume]
{
	@EFFECTS
	{
		@flameout
		{
			PREFAB_PARTICLE
			{
				name = smoke
				prefabName = fx_smokeTrail_medium
				transformName = thrustTransform
				localOffset = 0,0,0.0
				localRotation = 1,0,0,-90
			}
		}
	}
}


//GEM46
@PART[bluedog_Delta_GEM46]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		%powerEffectName = Solid-Lower
	}
    PLUME
    {
        name = Solid-Lower
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0.2
        fixedScale = 0.45
        energy = 1
        speed = 1
    }
}
@PART[bluedog_Delta_GEM46]:NEEDS[zRealPlume,SmokeScreen]:AFTER[zzRealPlume]
{
	@EFFECTS
	{
		@flameout
		{
			PREFAB_PARTICLE
			{
				name = smoke
				prefabName = fx_smokeTrail_medium
				transformName = thrustTransform
				localOffset = 0,0,0.0
				localRotation = 1,0,0,-90
			}
		}
	}
}


//GEM60
@PART[bluedog_Delta_GEM60]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		%powerEffectName = Solid-Lower
	}
    PLUME
    {
        name = Solid-Lower
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0.4
        fixedScale = 0.55
        energy = 1
        speed = 1
    }
}
@PART[bluedog_Delta_GEM60]:NEEDS[zRealPlume,SmokeScreen]:AFTER[zzRealPlume]
{
	@EFFECTS
	{
		@flameout
		{
			PREFAB_PARTICLE
			{
				name = smoke
				prefabName = fx_smokeTrail_medium
				transformName = thrustTransform
				localOffset = 0,0,0.0
				localRotation = 1,0,0,-90
			}
		}
	}
}

//GEM60 XL
@PART[bluedog_Delta_GEM60XL]:NEEDS[zRealPlume,SmokeScreen]
{
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		%powerEffectName = Solid-Lower
	}
    PLUME
    {
        name = Solid-Lower
        transformName = thrustTransform
        localRotation = 0,0,0
        localPosition = 0,0,0.1
        fixedScale = 0.6
        energy = 1
        speed = 1
    }
}
@PART[bluedog_Delta_GEM60XL]:NEEDS[zRealPlume,SmokeScreen]:AFTER[zzRealPlume]
{
	@EFFECTS
	{
		@flameout
		{
			PREFAB_PARTICLE
			{
				name = smoke
				prefabName = fx_smokeTrail_medium
				transformName = thrustTransform
				localOffset = 0,0,0.0
				localRotation = 1,0,0,-90
			}
		}
	}
}
