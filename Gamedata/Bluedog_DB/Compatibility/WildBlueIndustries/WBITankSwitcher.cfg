WBI_BDB_FUEL_TEMPLATE
{
	name = LFO
	author = Angel-125
	shortName = LFO
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuel
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuelGlow
	description = This kit stores liquid fuel and oxidizer.

	RESOURCE
	{
		 name = LiquidFuel
		 amount = 810
		 maxAmount = 810
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 990
		maxAmount = 990
	}

}

WBI_BDB_FUEL_TEMPLATE
{
	name = LHO
	author = BDB
	shortName = LHO
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogen
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogenGlow
	description = This kit stores normal density liquid hydrogen and oxidizer.

	RESOURCE
	{
		 name = LqdHydrogen
		 amount = 6750
		 maxAmount = 6750
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 450
		maxAmount = 450
	}

}

//WBI_BDB_FUEL_TEMPLATE
//{
//	name = LHODD
//	author = BDB
//	shortName = LHO (DD)
//	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogen
//	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogenGlow
//	description = This kit stores double density liquid hydrogen and oxidizer.
//
//	RESOURCE
//	{
//		 name = LqdHydrogen
//		 amount = 10800
//		 maxAmount = 10800
//	}
//
//	RESOURCE
//	{
//		name = Oxidizer
//		amount = 720
//		maxAmount = 720
//	}
//
//}
//
//WBI_BDB_FUEL_TEMPLATE
//{
//	name = LH2
//	author = BDB
//	shortName = Lqd Hydrogen
//	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogen
//	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogenGlow
//	description = This kit stores single density liquid hydrogen.
//
//	RESOURCE
//	{
//		name = LqdHydrogen
//		amount = 9000
//		maxAmount = 9000
//	}
//
//}
//
//WBI_BDB_FUEL_TEMPLATE
//{
//	name = LH2DD
//	author = BDB
//	shortName = Lqd Hydrogen (DD)
//	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogen
//	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidHydrogenGlow
//	description = This kit stores double density liquid hydrogen.
//
//	RESOURCE
//	{
//		name = LqdHydrogen
//		amount = 18000
//		maxAmount = 18000
//	}
//
//}

WBI_BDB_FUEL_TEMPLATE
{
	name = LFOBubble
	author = Angel-125
	shortName = LFO Balloon Tank
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuel
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuelGlow
	description = This kit stores liquid fuel and oxidizer. The tank has been modified to a monocoque structure that is held by the pressure of the propellants inside. Very thin. Try not to sneeze. Apply WD-40 three times per day.

	RESOURCE
	{
		 name = LiquidFuel
		 amount = 927
		 maxAmount = 927
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 1133
		maxAmount = 1133
	}

}

//WBI_BDB_FUEL_TEMPLATE
//{
//	name = MonoProp
//	author = Angel-125
//	shortName = MonoPropellant
//	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/Monopropellant
//	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MonopropellantGlow
//	description = This kit stores monopropellant.
//
//	RESOURCE
//	{
//		name = MonoPropellant
//		amount = 1800
//		maxAmount = 1800
//	}
//
//}

WBI_BDB_FUEL_TEMPLATE_BK2_SM
{
	name = LFO_AP_Bk2_SM
	author = Angel-125, feat BDB Crew
	shortName = Block 2 Service Module (Standard)
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuel
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuelGlow
	description = This kit stores liquid fuel and oxidizer.

	RESOURCE
	{
		 name = LiquidFuel
		 amount = 450
		 maxAmount = 450
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 550
		maxAmount = 550
	}

	RESOURCE
	{
		name = MonoPropellant
		amount = 100
		maxAmount = 250
	}

}

WBI_BDB_FUEL_TEMPLATE_BK2_SM
{
	name = MP_AP_Bk2_SM
	author = Angel-125, feat BDB Crew
	shortName = Block 2 Service Module (MonoPropellant)
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/Monopropellant
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MonopropellantGlow
	description = This kit stores all MonoPropellant

	RESOURCE
	{
		name = MonoPropellant
		amount = 1100
		maxAmount = 1250
	}

}

WBI_BDB_FUEL_TEMPLATE_BK3_SM
{
	name = LFO_AP_Bk3_SM
	author = Angel-125, feat BDB Crew
	shortName = Block 3 Service Module (Standard)
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuel
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/LiquidFuelGlow
	description = This kit stores liquid fuel and oxidizer.

	RESOURCE
	{
		 name = LiquidFuel
		 amount = 153
		 maxAmount = 153
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 187
		maxAmount = 187
	}

	RESOURCE
	{
		name = MonoPropellant
		amount = 50
		maxAmount = 100
	}

}

WBI_BDB_FUEL_TEMPLATE_BK3_SM
{
	name = MP_AP_Bk3_SM
	author = Angel-125, feat BDB Crew
	shortName = Block 3 Service Module (MonoPropellant)
	logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/Monopropellant
	glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/MonopropellantGlow
	description = This kit stores all MonoPropellant

	RESOURCE
	{
		name = MonoPropellant
		amount = 390
		maxAmount = 440
	}

}

@PART[bluedog_Apollo_Block2_ServiceModule]:HAS[@RESOURCE[LiquidFuel],@RESOURCE[Oxidizer],!MODULE[ModuleEngines*]]:NEEDS[WildBlueTools]:FOR[Bluedog_DB_0]
{
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}

	MODULE
	{
		name = WBIResourceSwitcher
		enableLogging = True
		showGUI = False

		//Require a confirmation click before changing resources
		confirmResourceSwitch = False

		//Short name of the default module template.
		//This is used when selecting the part in the editor.
		//User will then right-click on the module to change its type.
		defaultTemplate = Block 2 Service Module (Standard)

		//name of the template nodes to use
		templateNodes = WBI_BDB_FUEL_TEMPLATE_BK2_SM

		//Determines if the module allows in-field reconfiguring
		fieldReconfigurable = False
		//resourcesToKeep = ElectricCharge
		resourcesToReplace = LiquidFuel;LqdHydrogen;Oxidizer;MonoPropellant

		//Some containers don't hold as much resources as the template specifies, while others hold more.
		//Since the resource templates specify base amounts, the capacity factor specifies a multiplier to
		//factor into the resource amounts.
		capacityFactor = 1
	}
}

@PART[bluedog_Apollo_Block3_ServiceModule]:HAS[@RESOURCE[LiquidFuel],@RESOURCE[Oxidizer],!MODULE[ModuleEngines*]]:NEEDS[WildBlueTools]:FOR[Bluedog_DB_0]
{
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}

	MODULE
	{
		name = WBIResourceSwitcher
		enableLogging = True
		showGUI = False

		//Require a confirmation click before changing resources
		confirmResourceSwitch = False

		//Short name of the default module template.
		//This is used when selecting the part in the editor.
		//User will then right-click on the module to change its type.
		defaultTemplate = Block 3 Service Module (Standard)

		//name of the template nodes to use
		templateNodes = WBI_BDB_FUEL_TEMPLATE_BK3_SM

		//Determines if the module allows in-field reconfiguring
		fieldReconfigurable = False
		//resourcesToKeep = ElectricCharge
		resourcesToReplace = LiquidFuel;LqdHydrogen;Oxidizer;MonoPropellant

		//Some containers don't hold as much resources as the template specifies, while others hold more.
		//Since the resource templates specify base amounts, the capacity factor specifies a multiplier to
		//factor into the resource amounts.
		capacityFactor = 1
	}
}

@PART[bluedog*,Bluedog*]:HAS[@RESOURCE[LiquidFuel],@RESOURCE[Oxidizer],!RESOURCE[MonoPropellant],!MODULE[ModuleEngines*]]:NEEDS[WildBlueTools]:FOR[Bluedog_DB_0]
{
	%tank_volume = #$RESOURCE[LiquidFuel]/maxAmount$
	@tank_volume += #$RESOURCE[Oxidizer]/maxAmount$
	
	//!RESOURCE[LiquidFuel] {}
	//!RESOURCE[Oxidizer] {}
	
	MODULE
	{
		name = WBIResourceSwitcher
		enableLogging = True

		showGUI = False

		//Require a confirmation click before changing resources
		confirmResourceSwitch = False

		//Short name of the default module template.
		//This is used when selecting the part in the editor.
		//User will then right-click on the module to change its type.
		defaultTemplate = LFO

		//name of the template nodes to use
		templateNodes = WBI_BDB_FUEL_TEMPLATE

		//Determines if the module allows in-field reconfiguring
		fieldReconfigurable = false

		//List of all the resources that may be replaced during a template switch. Any resource NOT
		//on the list will be preserved.
		//If empty, then all of the part's resources will be cleared during a template switch.
		//Set to ALL if you want all of the part's resources to be cleared during a template switch.
		//This exists because mods like TAC-LS like to add resources to parts and we won't know about them at runtime.
		resourcesToReplace = ALL
		
		//Some containers don't hold as much resources as the template specifies, while others hold more.
		//Since the resource templates specify base amounts, the capacity factor specifies a multiplier to
		//factor into the resource amounts.
		capacityFactor = #$../tank_volume$
		@capacityFactor /= 1800

		//Name of the logo panel transforms
		//logoPanelTransforms = logoPanel001
		//showDecals = true
	}
	
	MODULE
	{
		name = ModuleBdbBoiloff
		CRYOGENICRESOURCE
		{
			name = LqdHydrogen
			boiloffRate = 8
		}
	}
}

@PART[bluedog*,Bluedog*]:HAS[@RESOURCE[LqdHydrogen],@RESOURCE[Oxidizer],!RESOURCE[MonoPropellant],!MODULE[ModuleEngines*]]:NEEDS[WildBlueTools]:FOR[Bluedog_DB_0]
{
	%tank_volume = #$RESOURCE[LqdHydrogen]/maxAmount$
	@tank_volume /= 5
	@tank_volume += #$RESOURCE[Oxidizer]/maxAmount$

	//!RESOURCE[LqdHydrogen] {}
	//!RESOURCE[Oxidizer] {}
	
	MODULE
	{
		name = WBIResourceSwitcher
		enableLogging = False
		showGUI = False // Does what???
		confirmResourceSwitch = False
		defaultTemplate = LHO
		templateNodes = WBI_BDB_FUEL_TEMPLATE
		fieldReconfigurable = false
		resourcesToReplace = LiquidFuel;LqdHydrogen;Oxidizer // Does not appear to be implimented. resourcesToKeep is.
		//resourcesToReplace = ALL
		capacityFactor = #$../tank_volume$
		@capacityFactor /= 1800
	}	
}

// This should work, but it doesnâ€™t seem to... Hmm...
@PART[bluedog_atlas1*Tank,bluedog_atlasFairingAdapterTank,bluedog_Vega_Tankage]:NEEDS[WildBlueTools]:AFTER[Bluedog_DB_0]
{
	@MODULE[WBIResourceSwitcher]
	{
		@defaultTemplate = LFO Balloon Tank
	}
}
